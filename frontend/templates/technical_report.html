{% extends "base.html" %}

{% block title %}Technical Report - Exoplanet Hunter AI{% endblock %}

{% block content %}
<div class="container">
    <!-- Report Header -->
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold">
            <i class="bi bi-file-earmark-text text-nebula"></i>
            Technical Report
        </h1>
        <p class="lead text-muted">
            Model Training & Evaluation - NASA Space Apps Challenge 2025
        </p>
        <p class="text-muted">Date: January 2025</p>
    </div>

    <!-- Table of Contents -->
    <div class="card mb-4" style="background: rgba(139, 92, 246, 0.1);">
        <div class="card-header">
            <h4 class="mb-0"><i class="bi bi-list-ol"></i> Table of Contents</h4>
        </div>
        <div class="card-body">
            <ul class="list-unstyled">
                <li class="mb-2"><a href="#executive-summary" class="text-decoration-none">1. Executive Summary</a></li>
                <li class="mb-2"><a href="#data-collection" class="text-decoration-none">2. Data Collection & Preparation</a></li>
                <li class="mb-2"><a href="#eda" class="text-decoration-none">3. Exploratory Data Analysis</a></li>
                <li class="mb-2"><a href="#preprocessing" class="text-decoration-none">4. Data Preprocessing</a></li>
                <li class="mb-2"><a href="#baseline" class="text-decoration-none">5. Baseline Model Training</a></li>
                <li class="mb-2"><a href="#advanced" class="text-decoration-none">6. Advanced System Development</a></li>
                <li class="mb-2"><a href="#results" class="text-decoration-none">7. Final Results & Evaluation</a></li>
                <li class="mb-2"><a href="#conclusions" class="text-decoration-none">8. Conclusions & Future Work</a></li>
            </ul>
        </div>
    </div>

    <!-- 1. Executive Summary -->
    <div class="card mb-4" id="executive-summary">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-clipboard-data"></i> 1. Executive Summary</h2>
        </div>
        <div class="card-body">
            <p>This technical report documents the development and evaluation of the Exoplanet Hunter AI system, an advanced machine learning solution designed to classify exoplanet candidates from NASA's Kepler mission data.</p>
            
            <div class="alert alert-info">
                <strong>Key Achievement:</strong> Developed a state-of-the-art ensemble system achieving <strong>83.6% accuracy</strong> and <strong>80.8% F1-score</strong> on the test set, combining CNN-Transformer architecture with gradient boosting methods.
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">Project Overview</h5>
            <div class="row g-3">
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">9,564</h3>
                        <p class="text-muted mb-0">Total Objects Analyzed</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">12</h3>
                        <p class="text-muted mb-0">Key Features</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">83.6%</h3>
                        <p class="text-muted mb-0">Final Accuracy</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">95.2%</h3>
                        <p class="text-muted mb-0">ROC-AUC Score</p>
                    </div>
                </div>
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">Technology Stack</h5>
            <ul>
                <li><strong>Deep Learning:</strong> TensorFlow/Keras, CNN-Transformer hybrid architecture</li>
                <li><strong>Gradient Boosting:</strong> LightGBM, XGBoost</li>
                <li><strong>Data Processing:</strong> Pandas, NumPy, Scikit-learn</li>
                <li><strong>Ensemble Methods:</strong> Weighted voting, stacking</li>
                <li><strong>Safety Layer:</strong> Constitutional AI wrapper with uncertainty quantification</li>
            </ul>
        </div>
    </div>

    <!-- 2. Data Collection -->
    <div class="card mb-4" id="data-collection">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-database"></i> 2. Data Collection & Preparation</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">2.1 Data Sources</h5>
            <p>Data was collected from NASA's Exoplanet Archive using the Table Access Protocol (TAP) service. Multiple datasets were retrieved to ensure comprehensive coverage:</p>
            
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Dataset</th>
                            <th>Records</th>
                            <th>Columns</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Kepler Cumulative</td>
                            <td>9,564</td>
                            <td>153</td>
                            <td>Primary training dataset</td>
                        </tr>
                        <tr>
                            <td>K2 Candidates</td>
                            <td>4,004</td>
                            <td>361</td>
                            <td>Extended mission data</td>
                        </tr>
                        <tr>
                            <td>TESS TOI</td>
                            <td>7,699</td>
                            <td>91</td>
                            <td>TESS mission targets</td>
                        </tr>
                        <tr>
                            <td>Confirmed Planets</td>
                            <td>6,013</td>
                            <td>354</td>
                            <td>Verified exoplanets</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">2.2 Primary Dataset: Kepler Cumulative</h5>
            <p>The Kepler Cumulative dataset was selected as the primary training source due to its comprehensive feature set and balanced representation of exoplanet classifications.</p>
            
            <div class="row g-3 mt-3">
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h4 class="text-star">22.12 MB</h4>
                        <p class="text-muted mb-0">Dataset Size</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h4 class="text-star">153</h4>
                        <p class="text-muted mb-0">Total Features</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h4 class="text-star">133</h4>
                        <p class="text-muted mb-0">Numerical Features</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h4 class="text-star">20</h4>
                        <p class="text-muted mb-0">Object Features</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. EDA -->
    <div class="card mb-4" id="eda">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-graph-up"></i> 3. Exploratory Data Analysis</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">3.1 Class Distribution</h5>
            <p>The dataset exhibits moderate class imbalance, with False Positives being the majority class:</p>
            
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Count</th>
                            <th>Percentage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="badge bg-primary">FALSE POSITIVE</span></td>
                            <td>4,839</td>
                            <td>50.60%</td>
                        </tr>
                        <tr>
                            <td><span class="badge bg-success">CONFIRMED</span></td>
                            <td>2,746</td>
                            <td>28.71%</td>
                        </tr>
                        <tr>
                            <td><span class="badge bg-warning">CANDIDATE</span></td>
                            <td>1,979</td>
                            <td>20.69%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="alert alert-warning mt-3">
                <strong>Imbalance Ratio:</strong> 2.45:1 - Requires specialized handling through SMOTE and class weighting
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/class_distribution.png') }}" alt="Class Distribution" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>

            <h5 class="text-nebula mt-4 mb-3">3.2 Feature Selection</h5>
            <p>From 153 available features, 12 key astronomical parameters were selected based on scientific relevance and data completeness (<30% missing):</p>
            
            <div class="card bg-dark mt-3">
                <div class="card-body">
                    <pre class="text-light mb-0"><code>Selected Features:
1. koi_period       - Orbital period (days)
2. koi_depth        - Transit depth (ppm)
3. koi_duration     - Transit duration (hours)
4. koi_prad         - Planet radius (Earth radii)
5. koi_teq          - Equilibrium temperature (K)
6. koi_insol        - Insolation flux (Earth flux)
7. koi_model_snr    - Signal-to-noise ratio
8. koi_steff        - Stellar effective temperature (K)
9. koi_srad         - Stellar radius (solar radii)
10. koi_smass       - Stellar mass (solar masses)
11. koi_slogg       - Stellar surface gravity (log10)
12. koi_score       - Disposition score (0-1)</code></pre>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-md-6 text-center">
                    <img src="{{ url_for('static', filename='img/missing_values.png') }}" alt="Missing Values" class="img-fluid rounded shadow">
                    <p class="text-muted mt-2">Missing Values per Feature</p>
                </div>
                <div class="col-md-6 text-center">
                    <img src="{{ url_for('static', filename='img/koi_score_analysis.png') }}" alt="KOI Score Analysis" class="img-fluid rounded shadow">
                    <p class="text-muted mt-2">KOI Score Distribution by Class</p>
                </div>
            </div>

            <h5 class="text-nebula mt-4 mb-3">3.3 Key Insights</h5>
            <ul>
                <li><strong>koi_score</strong> is highly discriminative: CONFIRMED objects have mean score 0.96, while FALSE POSITIVE average just 0.04.</li>
                <li>A threshold of <code>koi_score > 0.9</code> yields 2,520 CONFIRMED vs only 73 FALSE POSITIVE.</li>
                <li>High correlation found between <code>koi_smass ↔ koi_steff</code> (r=0.813) and <code>koi_srad ↔ koi_slogg</code> (r=-0.835).</li>
            </ul>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/correlation_matrix.png') }}" alt="Feature Correlation Matrix" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/feature_distributions_by_class.png') }}" alt="Feature Distributions by Class" class="img-fluid rounded shadow">
            </div>
        </div>
    </div>

    <!-- 4. Preprocessing -->
    <div class="card mb-4" id="preprocessing">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-gear"></i> 4. Data Preprocessing</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">4.1 Data Cleaning</h5>
            <ul>
                <li>Duplicate rows: 0 detected</li>
                <li>Missing target values: 0</li>
                <li>Rows with all features missing: 0</li>
                <li>Final dataset: 9,564 samples retained (100%)</li>
            </ul>
            
            <h5 class="text-nebula mt-4 mb-3">4.2 Missing Value Imputation</h5>
            <p>A total of 4,735 missing values were imputed using median strategy to maintain robust statistics.</p>
            
            <h5 class="text-nebula mt-4 mb-3">4.3 Train-Validation-Test Split</h5>
            <p>Stratified splitting to preserve class distributions:</p>
            
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Split</th>
                            <th>Samples</th>
                            <th>Percentage</th>
                            <th>Candidate</th>
                            <th>Confirmed</th>
                            <th>False Positive</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Training</td>
                            <td>6,909</td>
                            <td>72.24%</td>
                            <td>1,429 (20.68%)</td>
                            <td>1,984 (28.72%)</td>
                            <td>3,496 (50.60%)</td>
                        </tr>
                        <tr>
                            <td>Validation</td>
                            <td>1,220</td>
                            <td>12.76%</td>
                            <td>253 (20.74%)</td>
                            <td>350 (28.69%)</td>
                            <td>617 (50.57%)</td>
                        </tr>
                        <tr>
                            <td>Test</td>
                            <td>1,435</td>
                            <td>15.00%</td>
                            <td>297 (20.70%)</td>
                            <td>412 (28.71%)</td>
                            <td>726 (50.59%)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">4.4 Class Imbalance Handling - SMOTE</h5>
            <p>Synthetic Minority Over-sampling Technique (SMOTE) applied to balance training data:</p>
            
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Before SMOTE</th>
                            <th>After SMOTE</th>
                            <th>Change</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CANDIDATE</td>
                            <td>1,429</td>
                            <td>3,496</td>
                            <td>+2,067 (+145%)</td>
                        </tr>
                        <tr>
                            <td>CONFIRMED</td>
                            <td>1,984</td>
                            <td>3,496</td>
                            <td>+1,512 (+76%)</td>
                        </tr>
                        <tr>
                            <td>FALSE POSITIVE</td>
                            <td>3,496</td>
                            <td>3,496</td>
                            <td>No change</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="alert alert-success mt-3">
                <strong>Training Set Expansion:</strong> From 6,909 to 10,488 samples (+51.8%)
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/smote_comparison.png') }}" alt="SMOTE Comparison" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>
        </div>
    </div>

    <!-- 5. Baseline Models -->
    <div class="card mb-4" id="baseline">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-cpu"></i> 5. Baseline Model Training</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">5.1 Model Selection</h5>
            <p>Five baseline models were trained to establish performance benchmarks:</p>
            
            <ol>
                <li><strong>Logistic Regression</strong> - Linear baseline</li>
                <li><strong>Random Forest</strong> - Ensemble decision trees</li>
                <li><strong>Gradient Boosting</strong> - Sequential boosting</li>
                <li><strong>XGBoost</strong> - Optimized gradient boosting</li>
                <li><strong>LightGBM</strong> - Efficient gradient boosting</li>
            </ol>
            
            <h5 class="text-nebula mt-4 mb-3">5.2 Validation Performance Comparison</h5>
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Accuracy</th>
                            <th>Precision</th>
                            <th>Recall</th>
                            <th>F1-Score</th>
                            <th>ROC-AUC</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: rgba(139, 92, 246, 0.2);">
                            <td><strong>LightGBM</strong></td>
                            <td><strong>82.79%</strong></td>
                            <td><strong>79.67%</strong></td>
                            <td><strong>80.76%</strong></td>
                            <td><strong>80.04%</strong></td>
                            <td><strong>94.68%</strong></td>
                        </tr>
                        <tr>
                            <td>Gradient Boosting</td>
                            <td>80.90%</td>
                            <td>77.92%</td>
                            <td>79.32%</td>
                            <td>78.26%</td>
                            <td>94.62%</td>
                        </tr>
                        <tr>
                            <td>XGBoost</td>
                            <td>81.39%</td>
                            <td>77.52%</td>
                            <td>78.21%</td>
                            <td>77.82%</td>
                            <td>94.24%</td>
                        </tr>
                        <tr>
                            <td>Random Forest</td>
                            <td>80.49%</td>
                            <td>76.93%</td>
                            <td>77.49%</td>
                            <td>77.12%</td>
                            <td>94.10%</td>
                        </tr>
                        <tr>
                            <td>Logistic Regression</td>
                            <td>77.05%</td>
                            <td>72.21%</td>
                            <td>73.91%</td>
                            <td>72.66%</td>
                            <td>91.07%</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/model_comparison.png') }}" alt="Model Comparison" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>

            <h5 class="text-nebula mt-4 mb-3">5.3 Hyperparameter Tuning (LightGBM)</h5>
            <p>Grid search over 81 parameter combinations yielded:</p>
            <ul>
                <li><strong>Best Parameters:</strong> <code>learning_rate=0.3, max_depth=7, n_estimators=200, num_leaves=50</code></li>
                <li><strong>Best CV F1-Score:</strong> 88.67%</li>
                <li><strong>Test F1-Score:</strong> 80.24%</li>
            </ul>

            <div class="alert alert-success mt-3">
                <strong>Best Baseline Model:</strong> LightGBM achieved the highest F1-score (80.04%) with excellent training efficiency (0.63s)
            </div>
        </div>
    </div>

    <!-- 6. Advanced System -->
    <div class="card mb-4" id="advanced">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-rocket-takeoff"></i> 6. Advanced System Development</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">6.1 Architecture Overview</h5>
            <p>To push beyond baseline performance, we developed an advanced multi-model ensemble system combining deep learning with gradient boosting methods.</p>
            
            <div class="alert alert-info">
                <strong>System Components:</strong>
                <ul class="mb-0">
                    <li>CNN-Transformer hybrid neural network (trained for 10 epochs)</li>
                    <li>LightGBM gradient boosting model</li>
                    <li>XGBoost gradient boosting model</li>
                    <li>Weighted ensemble voting</li>
                    <li>Constitutional AI wrapper with uncertainty quantification</li>
                </ul>
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">6.2 Ensemble Integration</h5>
            <p>The ensemble combines three complementary models using weighted voting:</p>
            
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Type</th>
                            <th>Strengths</th>
                            <th>Validation F1</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CNN-Transformer</td>
                            <td>Deep Learning</td>
                            <td>Pattern recognition, non-linear relationships</td>
                            <td>74.80%</td>
                        </tr>
                        <tr>
                            <td>LightGBM</td>
                            <td>Gradient Boosting</td>
                            <td>Feature importance, efficiency</td>
                            <td>80.04%</td>
                        </tr>
                        <tr>
                            <td>XGBoost</td>
                            <td>Gradient Boosting</td>
                            <td>Regularization, robustness</td>
                            <td>77.82%</td>
                        </tr>
                        <tr style="background: rgba(139, 92, 246, 0.2);">
                            <td><strong>Ensemble</strong></td>
                            <td><strong>Voting</strong></td>
                            <td><strong>Combined strengths</strong></td>
                            <td><strong>78.07%</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h5 class="text-nebula mt-4 mb-3">6.3 Constitutional AI Layer</h5>
            <p>Added safety and scientific integrity through:</p>
            <ul>
                <li>Uncertainty quantification (e.g., high uncertainty → flag for human review)</li>
                <li>Explainable predictions with confidence scores</li>
                <li>Automated flagging of low-confidence predictions</li>
            </ul>
        </div>
    </div>

    <!-- 7. Results -->
    <div class="card mb-4" id="results">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-trophy"></i> 7. Final Results & Evaluation</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">7.1 Test Set Performance</h5>
            <p>The advanced ensemble system was evaluated on the held-out test set (n=1,435):</p>
            
            <div class="row g-3 mt-3">
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">83.62%</h3>
                        <p class="text-muted mb-0">Accuracy</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">80.80%</h3>
                        <p class="text-muted mb-0">F1-Score</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">81.00%</h3>
                        <p class="text-muted mb-0">Precision</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="text-center p-3" style="background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <h3 class="text-star">81.00%</h3>
                        <p class="text-muted mb-0">Recall</p>
                    </div>
                </div>
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/roc_curves.png') }}" alt="ROC Curves" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>

            <h5 class="text-nebula mt-4 mb-3">7.2 Detailed Classification Report</h5>
            <div class="table-responsive">
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Precision</th>
                            <th>Recall</th>
                            <th>F1-Score</th>
                            <th>Support</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CANDIDATE</td>
                            <td>60%</td>
                            <td>71%</td>
                            <td>65%</td>
                            <td>297</td>
                        </tr>
                        <tr>
                            <td>CONFIRMED</td>
                            <td>89%</td>
                            <td>85%</td>
                            <td>87%</td>
                            <td>412</td>
                        </tr>
                        <tr>
                            <td>FALSE POSITIVE</td>
                            <td>93%</td>
                            <td>88%</td>
                            <td>90%</td>
                            <td>726</td>
                        </tr>
                        <tr style="background: rgba(139, 92, 246, 0.2);">
                            <td><strong>Weighted Avg</strong></td>
                            <td><strong>85%</strong></td>
                            <td><strong>84%</strong></td>
                            <td><strong>84%</strong></td>
                            <td><strong>1,435</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/confusion_matrix_test.png') }}" alt="Confusion Matrix" class="img-fluid rounded shadow">
            </div>

            <h5 class="text-nebula mt-4 mb-3">7.3 Feature Importance</h5>
            <p>Top 10 most important features (from LightGBM):</p>
            <ol>
                <li><strong>koi_duration</strong> – Transit duration (hours)</li>
                <li><strong>koi_period</strong> – Orbital period (days)</li>
                <li><strong>koi_model_snr</strong> – Signal-to-noise ratio</li>
                <li><strong>koi_steff</strong> – Stellar temperature</li>
                <li><strong>koi_prad</strong> – Planet radius</li>
                <li><strong>koi_smass</strong> – Stellar mass</li>
                <li><strong>koi_depth</strong> – Transit depth</li>
                <li><strong>koi_score</strong> – Disposition score</li>
                <li><strong>koi_slogg</strong> – Stellar surface gravity</li>
                <li><strong>koi_teq</strong> – Equilibrium temperature</li>
            </ol>

            <div class="text-center my-4">
                <img src="{{ url_for('static', filename='img/feature_importance.png') }}" alt="Feature Importance" class="img-fluid rounded shadow" style="max-height: 300px;">
            </div>

            <div class="alert alert-success mt-3">
                <strong>Performance Improvement:</strong> The advanced system achieved a +0.56% improvement in F1-score over the original LightGBM baseline, with added benefits of uncertainty quantification and explainability.
            </div>
        </div>
    </div>

    <!-- 8. Conclusions -->
    <div class="card mb-4" id="conclusions">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-check-circle"></i> 8. Conclusions & Future Work</h2>
        </div>
        <div class="card-body">
            <h5 class="text-nebula mb-3">8.1 Key Achievements</h5>
            <div class="alert alert-success">
                <strong>Summary of Accomplishments:</strong>
                <ul class="mb-0">
                    <li>✅ Developed production-ready exoplanet classification system</li>
                    <li>✅ Achieved 83.62% accuracy and 80.80% F1-score on test data</li>
                    <li>✅ Implemented state-of-the-art CNN-Transformer architecture</li>
                    <li>✅ Created robust ensemble with uncertainty quantification</li>
                    <li>✅ Integrated Constitutional AI for scientific integrity</li>
                    <li>✅ Deployed web application with RESTful API</li>
                </ul>
            </div>
            
            <h5 class="text-nebula mt-4 mb-3">8.2 Future Enhancements</h5>
            
            <h6 class="text-star">Short-term Improvements</h6>
            <ul>
                <li><strong>Data Augmentation:</strong> Integrate TESS and K2 mission data for broader coverage</li>
                <li><strong>Feature Engineering:</strong> Develop domain-specific features from light curve analysis</li>
                <li><strong>Model Refinement:</strong> Experiment with attention visualization and explainability methods</li>
                <li><strong>Threshold Optimization:</strong> Adjust decision boundaries for different use cases</li>
            </ul>
            
            <h6 class="text-star">Long-term Vision</h6>
            <ul>
                <li><strong>Real-time Processing:</strong> Integration with telescope data streams</li>
                <li><strong>Multi-modal Learning:</strong> Incorporate spectroscopic and imaging data</li>
                <li><strong>Active Learning:</strong> Continuous model improvement from astronomer feedback</li>
                <li><strong>Federated Learning:</strong> Collaborative training across multiple observatories</li>
                <li><strong>Transfer Learning:</strong> Adapt models for other exoplanet detection methods</li>
            </ul>
            
            <h5 class="text-nebula mt-4 mb-3">8.3 Acknowledgments</h5>
            <p>This project was made possible by:</p>
            <ul>
                <li><strong>NASA Exoplanet Archive:</strong> Providing comprehensive, high-quality datasets</li>
                <li><strong>Kepler Mission Team:</strong> Revolutionary contributions to exoplanet science</li>
                <li><strong>Space Apps Challenge:</strong> Platform for innovation and collaboration</li>
                <li><strong>Open Source Community:</strong> Tools and libraries that enabled rapid development</li>
            </ul>
        </div>
    </div>

    <!-- Final Summary -->
    <div class="card mb-4" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(236, 72, 153, 0.2));">
        <div class="card-body text-center">
            <h4 class="mb-3">
                <i class="bi bi-stars"></i> 
                Advancing Exoplanet Discovery Through Artificial Intelligence
                <i class="bi bi-stars"></i>
            </h4>
            <p class="mb-0">
                <strong>Exoplanet Hunter AI</strong> - Technical Report<br>
                NASA Space Apps Challenge 2025 | January 2025
            </p>
        </div>
    </div>
</div>
{% endblock %}
